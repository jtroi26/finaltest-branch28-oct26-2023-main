<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Change</title>
</head>
<body>
    <h1>Password Change</h1>

    <% if (typeof errorChange !== 'undefined' && errorChange !== null && errorChange !== '') { %>
        <div class="error-message">
            <%= errorChange %>
        </div>
    <% } %>

        <!-- The change password didnt work if the new and confirm password does not match -->


    <form id="changePasswordForm" method="post" action="/student/change-password"  >
        <label for="studentID">Student ID:</label>
        <input type="text" name="studentID" readonly value="<%= studentid %>"><br>

        <label for="oldPassword">Old Password:</label>
        <input type="password" name="oldPassword" required><br>

        <label for="newPassword">New Password:</label>
        <input type="password" name="newPassword" required><br>

        <label for="confirmPassword">Confirm Password:</label>
        <input type="password" name="confirmPassword" required><br>

        <button type="submit">Change Password</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
          var form = document.getElementById('changePasswordForm');
          form.addEventListener('submit', function (event) {
            var newPassword = form.elements['newPassword'].value;
            var confirmPassword = form.elements['confirmPassword'].value;
      
            if (newPassword !== confirmPassword) {
              alert('New Password and Confirm Password do not match.');
              event.preventDefault(); // Prevent the form from submitting
            }
          });
        });
      </script>
      

</body>
</html>